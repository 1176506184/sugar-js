(function(_,O){typeof exports=="object"&&typeof module<"u"?O(exports):typeof define=="function"&&define.amd?define(["exports"],O):(_=typeof globalThis<"u"?globalThis:_||self,O(_.Sugar={}))})(this,(function(_){"use strict";let O={},j="";function ut(t){O[j]||(O[j]=[]),O[j].push({used:!1,fun:t})}function gt(t){j=t}const Gt=Array.isArray,zt=Object.assign;function Dt(t){return/^[A-Za-z_$][\w$]*$/.test(t)}function Ht(t){if(Dt(t))return!0;const e=["(",")","=>","+","-","*","/",".","[","]"];for(const n of e)if(t.includes(n))return!1;return!0}const D=[];function dt(t){D.push(t)}function Wt(){D.pop()}function mt(t,e){const n=W(e),i=[];for(;!Zt(t,e);){const o=t.source;let a;if(b(o,t.options.delimiters[0]))a=Jt(t);else if(o[0]==="<"&&o.length!==1)if(o[1]==="/")if(o[2]===">"){S(t,3);continue}else if(/[a-z]/i.test(o[2])){H(t,1);continue}else a=St(t);else/[a-z]/i.test(o[1])?a=Qt(t,e):o[1]==="!"&&(a=St(t));if(a||(a=Yt(t)),Gt(a))for(let f=0;f<a.length;f++)pt(i,a[f]);else pt(i,a)}let c=!1;const r=t.options.whitespace!=="preserve";for(let o=0;o<i.length;o++){const a=i[o];if(a.type===2)if(t.inPre)a.content=a.content.replace(/\r\n/g,`
`);else if(/[^\t\r\n\f ]/.test(a.content))r&&(a.content=a.content.replace(/[\t\r\n\f ]+/g," "));else{const f=i[o-1],s=i[o+1];!f||!s||r&&(f.type===3&&s.type===3||f.type===3&&s.type===1||f.type===1&&s.type===3||f.type===1&&s.type===1&&/[\r\n]/.test(a.content))?(c=!0,i[o]=null):a.content=" "}else a.type===3&&!t.options.comments&&(c=!0,i[o]=null)}if(t.inPre&&n&&t.options.isPreTag(n.tag)){const o=i[0];o&&o.type===2&&(o.content=o.content.replace(/^\r?\n/,""))}return c?i.filter(Boolean):i}function Xt(t,e){const n=[],i=new Set,c=t.source.slice(0,t.source.indexOf(">")).match(/s-for\s*=\s*["']\s*\(([^)]+)\)\s+in\s+[^"']+["']/);if(c){const r=c[1].split(",").map(o=>o.trim());dt(r)}else e===0&&dt([]);for(;t.source.length>0&&!b(t.source,">")&&!b(t.source,"/>");){if(b(t.source,"/")){S(t,1),k(t);continue}const r=qt(t,i);if(["s-if","s-html"].includes(r.name)&&(r.value.content=U(r.value.content)),r.name==="s-for"){const o=r.value.content.split(" in ");r.value.content=o[0]+" in "+U(o[1])}r.type===6&&r.value&&r.name==="class"&&(r.value.content=r.value.content.replace(/\s+/g," ").trim()),e===0&&n.push(r),k(t)}return n}function qt(t,e){const n=$(t),c=/^[^\t\r\n\f />][^\t\r\n\f />=]*/.exec(t.source)[0];e.add(c),S(t,c.length);let r;/^[\t\r\n\f ]*=/.test(t.source)&&(k(t),S(t,1),k(t),r=Kt(t));const o=A(t,n);if(!t.inVPre&&/^(v-[A-Za-z0-9-]|:|\.|@|#)/.test(c)){const a=/(?:^v-([a-z0-9-]+))?(?:(?::|^\.|^@|^#)(\[[^\]]+\]|[^\.]+))?(.+)?$/i.exec(c),f=b(c,"."),s=a[1]||(f||b(c,":")?"bind":b(c,"@")||b(c,"s-on:")?"on":"slot");let l;if(a[2]){const g=s==="slot",m=c.lastIndexOf(a[2],c.length-(a[3]?.length||0)),p=A(t,ht(t,n,m),ht(t,n,m+a[2].length+(g&&a[3]||"").length));let d=a[2];d.startsWith("[")?d.endsWith("]")?d=d.slice(1,d.length-1):d=d.slice(1):g&&(d+=a[3]||""),l={type:4,content:d,loc:p}}if(r?.isQuoted){const g=r.loc;g.start.offset++,g.start.column++,g.end=Et(g.start,r.content),g.source=g.source.slice(1,-1)}const u=a[3]?a[3].slice(1).split("."):[];return f&&u.push("prop"),{type:7,name:s,exp:r&&{type:4,content:U(r.content),loc:r.loc,isStatic:!Ht(r.content)},arg:l,modifiers:u,loc:o}}return{type:6,name:c,value:r&&{type:2,content:r.content,loc:r.loc},loc:o}}function ht(t,e,n){return Et(e,t.originalSource.slice(e.offset,n),n)}function Kt(t){const e=$(t);let n;const i=t.source[0],c=i==='"'||i==="'";if(c){S(t,1);const r=t.source.indexOf(i);r===-1?n=M(t,t.source.length):(n=M(t,r),S(t,1))}else{const r=/^[^\t\r\n\f >]+/.exec(t.source);if(!r)return;n=M(t,r[0].length)}return{content:n,isQuoted:c,loc:A(t,e)}}function pt(t,e){if(e.type===2){const n=W(t);if(n&&n.type===2&&n.loc.end.offset===e.loc.start.offset){n.content+=e.content,n.loc.end=e.loc.end,n.loc.source+=e.loc.source;return}}t.push(e)}function Qt(t,e){W(e);const n=H(t,0);if(n.isSelfClosing||t.options.isVoidTag(n.tag))return n;e.push(n);const i=mt(t,e);return e.pop(),n.children=i,_t(t.source,n.tag)&&H(t,1),n.loc=A(t,n.loc.start),n}function H(t,e,n){const i=$(t),c=/^<\/?([a-z][^\t\r\n\f />]*)/i.exec(t.source),r=c[1];S(t,c[0].length),k(t);const o=Xt(t,e);let a=!1;if(t.source.length!==0&&(a=b(t.source,"/>"),S(t,a?2:1)),e===1){Wt();return}return{type:1,tag:r,tagType:0,children:[],props:o,isSelfClosing:a,loc:A(t,i)}}var yt=(t=>(t[t.HTML=0]="HTML",t))(yt||{});function St(t){const e=$(t),n=t.source[1]==="?"?1:2;let i;const c=t.source.indexOf("-->")+2;return c===-1?(i=t.source.slice(n),S(t,t.source.length)):(i=t.source.slice(n,c),S(t,c+1)),{type:3,content:i,loc:A(t,e)}}function Zt(t,e){const n=t.source;if(b(n,"</")){for(let i=e.length-1;i>=0;--i)if(_t(n,e[i].tag))return!0}return!n}function Jt(t){const[e,n]=t.options.delimiters,i=t.source.indexOf(n,e.length),c=$(t);S(t,e.length);const r=$(t),o=$(t),a=i-e.length,f=t.source.slice(0,a),s=Vt(t,a),l=s.trim(),u=s.indexOf(l);u>0&&L(r,f,u);const g=a-(s.length-l.length-u);return L(o,f,g),S(t,n.length),{type:5,content:{type:4,content:U(l),loc:A(t,r,o)},loc:A(t,c)}}function Yt(t){const e=["<",t.options.delimiters[0]];let n=t.source.length;for(let r=0;r<e.length;r++){const o=t.source.indexOf(e[r],1);o!==-1&&n>o&&(n=o)}const i=$(t);return{type:2,content:M(t,n),loc:A(t,i)}}function M(t,e){const n=t.source.slice(0,e);return S(t,e),n}function A(t,e,n){return n=n||$(t),{start:e,end:n,source:t.originalSource.slice(e.offset,n.offset)}}function Vt(t,e){const n=t.source.slice(0,e);return S(t,e),n}function S(t,e){const{source:n}=t;L(t,n,e),t.source=n.slice(e)}function L(t,e,n=e.length){let i=0,c=-1;for(let r=0;r<n;r++)e.charCodeAt(r)===10&&(i++,c=r);return t.offset+=n,t.line+=i,t.column=c===-1?t.column+n:n-c,t}function Et(t,e,n=e.length){return L(zt({},t),e,n)}function k(t){const e=/^[\t\r\n\f ]+/.exec(t.source);e&&S(t,e[0].length)}function b(t,e){return t.startsWith(e)}function _t(t,e){return b(t,"</")&&t.slice(2,2+e.length).toLowerCase()===e.toLowerCase()&&/[\t\r\n\f />]/.test(t[2+e.length]||">")}function W(t){return t[t.length-1]}function $(t){const{column:e,line:n,offset:i}=t;return{column:e,line:n,offset:i}}var T=(t=>(t[t.ROOT=0]="ROOT",t[t.ELEMENT=1]="ELEMENT",t[t.TEXT=2]="TEXT",t[t.COMMENT=3]="COMMENT",t[t.SIMPLE_EXPRESSION=4]="SIMPLE_EXPRESSION",t[t.INTERPOLATION=5]="INTERPOLATION",t[t.ATTRIBUTE=6]="ATTRIBUTE",t[t.DIRECTIVE=7]="DIRECTIVE",t[t.COMPOUND_EXPRESSION=8]="COMPOUND_EXPRESSION",t[t.COMPONENT=9]="COMPONENT",t[t.SLOT=10]="SLOT",t))(T||{});const te=new Set(["true","false","null","undefined","NaN","Infinity","Object","Function","Boolean","Symbol","Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError","Number","BigInt","Math","Date","String","RegExp","Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","Map","Set","WeakMap","WeakSet","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","window","globalThis","console","alert","setTimeout","setInterval","clearTimeout","clearInterval","requestAnimationFrame","cancelAnimationFrame","document","location","history","navigator","await","async","arguments","this"]);function U(t){return t.replace(/\b([a-zA-Z_$][a-zA-Z0-9_$]*)\b/g,(e,n,i,c)=>{const r=c.slice(0,i),o=/'[^']*$/.test(r)&&/[^']*'/.test(c.slice(i)),a=/"[^"]*$/.test(r)&&/[^"]*"/.test(c.slice(i)),f=/`[^`]*$/.test(r)&&/[^`]*`/.test(c.slice(i));if(o||a||f)return e;const s=c[i-1];return s==="."||s===":"||ee(n)||te.has(n)?e:`_ctx_.${n}`})}function bt(t){const e=[];for(const n of t)Array.isArray(n)?e.push(...bt(n)):e.push(n);return e}function ee(t){return bt(D).includes(t)}const X=t=>!1;function q(t){const e=ne(t);return mt(e,[])[0]}function ne(t){return{column:1,line:1,offset:0,originalSource:t,source:t,inPre:!1,inVPre:!1,options:{delimiters:["{{","}}"],isVoidTag:X,isPreTag:X,isCustomElement:X,getNamespace:(e,n)=>yt.HTML}}}const x={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},parentNode:t=>t.parentNode},N=t=>t instanceof Array;function vt(t){return t!=null}function K(t){return t==null}function re(t){const e={lt:"<",gt:">",nbsp:" ",amp:"&",quot:'"'};return t.replace(/&(lt|gt|nbsp|amp|quot);/ig,function(n,i){return e[i]}).replace(/<[^>]+s-on:([^>]+)>/ig,function(n,i){return n.replace(/s-on:/g,"@")})}const v={Array:Array.isArray,Date:t=>t instanceof Date,Set:t=>Object.prototype.toString.call(t)==="[object Set]",Map:t=>Object.prototype.toString.call(t)==="[object Map]",Object:t=>Object.prototype.toString.call(t)==="[object Object]",Symbol:t=>Object.prototype.toString.call(t)==="[object Symbol]",Function:t=>Object.prototype.toString.call(t)==="[object Function]"};function I(t,e=new WeakMap,n=!1){if(v.Function(t)&&n)return/^function/.test(t.toString())||/^\(\)/.test(t.toString())?new Function("return "+t.toString())():new Function("return function "+t.toString())();if(v.Function(t))return t;if(v.Date(t))return new Date(t.valueOf());if(v.Symbol(t))return Symbol(t.description);if(v.Set(t)){const r=new Set;for(const o of t)r.add(I(o),e);return r}if(v.Map(t)){const r=new Map;for(const o of t)r.set(I(o[0],e),I(o[1],e));return r}if(e.has(t))return e.get(t);if(v.Array(t)){const r=[];for(const o in t)r[o]=I(t[o],e);return r}if(!v.Object(t))return t;const i=v.Array(t)?[]:{};e.set(t,i);for(const r in t)v.Array(t[r])&&I(t[r],e),e.set(t,i),i[r]=I(t[r],e);const c=Object.getOwnPropertySymbols(t);for(const r of c)i[r]=I(t[r],e);return i}function Ot(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})}function ie(t){const e=document.createElement("style"),n=document.head||document.getElementsByTagName("head")[0];if(e.type="text/css",e.styleSheet){const i=function(){try{e.styleSheet.cssText=t}catch{}};e.styleSheet.disabled?setTimeout(i,10):i()}else{const i=document.createTextNode(t);e.appendChild(i)}n.appendChild(e)}function Q(t,e){function n(i){i.props?.forEach(r=>{r.name==="s-if"&&e.sIf(i,r),r.name==="s-for"&&e.sFor(i,r),r.name==="s-html"&&e.sHtml(i,r),r.name==="s-model"&&e.sModel(i,r),r.name==="s-loading"&&e.sLoading(i,r)}),i.tag==="slot"&&(i.type=T.SLOT),i.children&&i.children.forEach(r=>{n(r)})}return n(t),t}function Z(t,e){t.if={value:e.value.content,type:e.value.type}}function F(t){const e=(r=[])=>{let o="[";return r.forEach((a,f)=>{a.type===T.ELEMENT||a.type===T.INTERPOLATION||a.type===T.SLOT?o+=n(a)+`${f===r.length-1?"":","}`:a.type===T.TEXT&&a.content.trim()&&(o+=n(a)+`${f===r.length-1?"":","}`)}),o+"]"};function n(r){let o="";const a=r.props;if(r.type===1||r.type===T.SLOT){let f="",s=!1;if(f+=`_ctx_._SUGAR._c('${r.tag}',{ `,f+='"attrs":{',f+=J(a),f+='},"on":{',f+=Y(a),f+="}},",r.children?f+=e(r.children):f+="[]",f+=")",r.forStatment&&(s=!0,o+=c(r)),r.if&&!r.forStatment&&(s=!0,o=`${r.if.value} ? ${o+f} : _ctx_._SUGAR._e()`),r.loading&&!r.forStatment){s=!0;const l=F(Q(q(`<div class="s-loading" s-if="${r.loading.value}">
        <svg t="1734417183543" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4603" width="30" height="30"><path d="M512 64c247.2 0 448 200.8 448 448h-64c0-212-172-384-384-384V64z m0 832c-212 0-384-172-384-384H64c0 247.2 200.8 448 448 448v-64z" p-id="4604" fill="#8a8a8a"></path></svg>
        </div>`),{sIf:Z}));o=`_ctx_._SUGAR._c('div',{attrs:{style:'position:relative'},on:{}},[${o+(r.if?"":f)},${l}])`}r.htmlStatment&&(s=!0,o=`_ctx_._SUGAR._c('div',{attrs:{${J(a)}},on:{${Y(a)}}},[_ctx_._SUGAR._html(${r.htmlStatment.value.content})])`),s||(o+=f)}else r.type===T.INTERPOLATION?o+=`_ctx_._SUGAR._v(_ctx_._SUGAR._s(${r.content.content}))`:r.type===T.TEXT&&(o+=`_ctx_._SUGAR._v(decodeURIComponent("${encodeURIComponent(r.content)}"))`);return o}return n(t);function i(r,o,a){let f=`_ctx_._SUGAR._c('${r}',{`;return f+='"attrs":{',f+=J(o),f+='},"on":{',f+=Y(o),f+="}},[",a.forEach((s,l)=>{f+=F(s),l<a.length-1&&(f+=",")}),f+="])",o.forEach(s=>{if(s.name==="s-if"&&(f=`${s.value.content} ? ${f} : _ctx_._SUGAR._e()`),s.name==="s-loading"&&s.value){const l=F(Q(q(`<div class="s-loading" s-if="${s.value.content}">
          <svg t="1734417183543" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4603" width="30" height="30"><path d="M512 64c247.2 0 448 200.8 448 448h-64c0-212-172-384-384-384V64z m0 832c-212 0-384-172-384-384H64c0 247.2 200.8 448 448 448v-64z" p-id="4604" fill="#8a8a8a"></path></svg>
        </div>`),{sIf:Z}));f=`_ctx_._SUGAR._c('div',{attrs:{style:'position:relative'},on:{}},[${f},${l}])`}}),f}function c(r){const o=r.forStatment,a=i(r.tag,r.props,r.children);return`..._ctx_._SUGAR._loop((${o.item}${o.index?","+o.index:""})=>{
      return ${a}
    },${o.exp})`}}function J(t){let e="";return t=t.filter(n=>n.name!=="s-if"&&n.name!=="s-for"&&n.name!=="on"&&n.name!=="s-loading"&&n.name!=="s-html"),t.forEach((n,i)=>{n.name!=="s-if"&&n.name!=="s-for"&&n.name!=="on"&&n.name!=="bind"&&n.name!=="slot"&&n.name!=="s-html"?e+=`"${n.name}":"${n.value.content}"`:n.name==="bind"?e+=`"${n.arg.content}":${n.exp.content}`:n.name==="slot"&&(e+=`"slot":"${n.arg.content}"`),n.name!=="s-if"&&n.name!=="s-for"&&n.name!=="on"&&i<t.length-1&&(e+=",")}),e}function Y(t){let e="";return t=t.filter(n=>n.name==="on"),t.forEach((n,i)=>{if(n.name==="on"){let c=`${n.exp.content}`;n.exp.isStatic&&(c=`(e)=>{${n.exp.content}}`),e+=`"${n.arg.content}":{"value":${c},"isStatic":${n.exp.isStatic},"modifiers":[${se(n.modifiers)}]}`,n.name==="on"&&i<t.length-1&&(e+=",")}}),e}function se(t){return N(t)?t.map(e=>`"${e}"`):""}function oe(t,e){const n=e.value.content.split(" in "),i=new RegExp("(?<=\\()(.+?)(?=\\))");n[0]=n[0].match(i)?n[0].match(i)[0].split(","):n[0],t.forStatment={exp:n[1],item:N(n[0])?n[0][0]:n[0],index:N(n[0])?n[0][1]:null}}function ce(t,e){t.htmlStatment={value:e.value}}function ae(t,e){t.loading={value:e.value.content,type:e.value.type}}function fe(t,e){if(e.exp.content.includes("(")&&e.exp.content.includes(")")){const n=e.exp.content;e.exp.content=e.exp.content.substring(0,n.indexOf("(")),e.exp.parameters=n.substring(n.indexOf("(")+1,n.length-1).split(",")}}function le(t,e){t.props.push({type:7,name:"on",exp:{type:4,content:`_ctx_.${e.value.content} = e.target.value`,isStatic:!0},arg:{type:4,content:"input"},modifiers:[]}),t.props.push({type:7,name:"bind",exp:{type:4,content:`_ctx_.${e.value.content}`},arg:{type:4,content:"value"},modifiers:[]})}function ue(t){const e=q(t);return Q(e,{sIf:Z,sFor:oe,sHtml:ce,sLoading:ae,transformEvent:fe,sModel:le}),{root:e,code:F(e)}}function At(t){function e(i=""){const{code:c,root:r}=ue(i);return{code:n(c),root:r}}function n(i=""){return new Function(`    const _ctx_ = this;
    const proxy = new Proxy({}, {
      get(target, prop, receiver) {
        if (prop in ctx) {
          return ctx[prop];
        }
        throw new ReferenceError(\`Missing variable \${String(prop)} in template\`);
      }
    });
    return ${i.toString()};
  `)}return e(t)}function V(t,e){return!!e[t.tag]}const $t={};function ge(t,e){$t[e]=t}function Tt(t){return $t[t]}const tt=[];let et=!1;function de(){et=!1;const t=tt.slice(0);tt.length=0;for(let e=0;e<t.length;e++)t[e]()}async function nt(t){let e;if(tt.push(()=>{t?t():e&&e()}),et||(et=!0,Promise.resolve().then(de)),!t)return await new Promise((n,i)=>{e=n})}const rt=new Set;let it=!1;function me(t){rt.add(t),it||(it=!0,Promise.resolve().then(()=>{for(const e of rt)e();rt.clear(),it=!1}))}const st=new WeakMap;let B=null;function ot(t){const e=()=>{B=e,t(),B=null};return e(),e}function It(t,e){if(!B)return;let n=st.get(t);n||(n=new Map,st.set(t,n));let i=n.get(e);i||(i=new Set,n.set(e,i)),i.add(B)}function Rt(t,e){const n=st.get(t);if(!n)return;const i=n.get(e);if(i)for(const c of i)me(c)}function Pt(t,e){let n;typeof t=="function"?n=t:kt(t)?n=()=>t.value:n=()=>ct(t);let i;function c(){const r=n();e(r,i),i=r}ot(c)}function kt(t){return t&&typeof t=="object"&&t.__isRef}function ct(t,e=new Set){if(!(typeof t!="object"||t===null||e.has(t))){if(e.add(t),kt(t))ct(t.value,e);else for(const n in t)ct(t[n],e);return t}}function xt(t){let e=t;return{get value(){return It(this,"value"),e},set value(n){n!==e&&(e=n,Rt(this,"value"))},__isRef:!0}}function w(t){return new Proxy(t,{get(e,n,i){const c=Reflect.get(e,n,i);return It(e,n),typeof c=="object"&&c!==null?w(c):c},set(e,n,i,c){const r=e[n],o=Reflect.set(e,n,i,c);return r!==i&&Rt(e,n),o}})}function he(t,e){const{data:{attrs:n,on:i},children:c}=t,r=I(e),o=w({}),a=c;if(Object.keys(n).forEach(s=>{s!=="ref"&&(o[s]=n[s])}),Object.keys(i).forEach(s=>{i[s].parameters?o[s]=function(){i[s].value(...i[s].parameters)}:o[s]=i[s].value}),t.key&&Tt(t.key))return Tt(t.key);const f=pe({...r,props:o,slot:a});return f.mount(),t.key&&ge(f,t.key),f}function pe(t){const e=Ot();gt(e);const n=t.bulk(t.props),{mounted:i}=ye();let c=null;const r={render:t.render,_vnode:null,data:n,$el:null,appId:e,components:t.components?t.components:[],sugar:{},slot:t.slot,props:t.props,headTag:t.headTag||"div"};function o(){c=i(r,n),O[e]?.forEach(s=>{s.fun(),s.used=!0}),ot(()=>{c()})}function a(s){r.slot=s,c()}function f(){c()}return{vm:r,mount:o,...n,updateSlot:a,forceUpdate:f}}function ye(){let t=null;function e(r,o){return r.$el=document.createElement(r.headTag),r._vnode=r.$el,t=r.render,Ft(r,o),r.forceUpdate=function(){n(r)},r.forceUpdate}function n(r){const o=at(r),a=t.call(at(r));r.slot.length&&i(a,r.slot),Mt(o,a),o._vnode=a}function i(r,o){r.children.forEach((a,f)=>{if(a.tag==="slot"&&a.data.attrs?.name==="default"&&c(o))r.children.splice(f,1,...o);else if(a.tag==="slot"&&a.data.attrs?.name){const s=o.filter(l=>l.data?.attrs.slot===a.data.attrs.name);r.children.splice(f,1,...s)}else if(a.tag==="slot"&&!a.data.attrs?.name){const s=o.filter(l=>!l.data?.attrs.slot);r.children.splice(f,1,...s)}else a.children?.length&&i(a,o)})}function c(r){return r.filter(o=>o.data?.attrs?.slot)}return{update:n,mounted:e}}function jt(t){const{code:e,root:n}=At(t.render);return{...t,render:e,headTag:n.tag}}function Mt(t,e){let n=t._vnode;n.elm||(n=Ee(n)),P(n,e)?c(e,n):n.elm?.parentNode&&e&&(x.insert(i(e),x.parentNode(n.elm),n.elm),x.remove(n.elm));function i(s){let l;if(s.tag){if(typeof s.tag=="string"&&!V(s,t.components)){s.tag==="svg"||s.tag==="path"?l=document.createElementNS("http://www.w3.org/2000/svg",s.tag):l=document.createElement(s.tag);const{data:u={}}=s||{},{attrs:g={},on:m={}}=u;for(const d in g)if(Object.hasOwnProperty.call(g,d)){const h=g[d];l.setAttribute(d,h),d==="ref"&&h in t&&(t[h]=l)}const p=l._vei||(l._vei={});for(const d in m)if(Object.hasOwnProperty.call(m,d)&&m[d].value){console.log(m[d]);const h=E=>{m[d].value(E),m[d].modifiers.includes("stop")&&E.stopPropagation(),m[d].modifiers.includes("prevent")&&E.preventDefault()};l.addEventListener(d,h),p[d]=h}if(s.children)for(let d=0;d<s.children.length;d++){const h=i(s.children[d]);h&&l.append(h)}}else if(V(s,t.components)){const u=he(s,t.components[s.tag]);s.elm=u.vm.$el,s._sugar=u,l=s.elm,s.data.attrs.ref&&s.data.attrs.ref in t&&(t[s.data.attrs.ref]=u)}}else s.text!==void 0?l=document.createTextNode(s.text):s.elm!==void 0&&(l=s.elm);return s.elm=l,l}function c(s,l){if(V(s,t.components)){if(l._sugar)Se(s,l),Ut(s,t);else{const u=i(s);x.insert(u,x.parentNode(l.elm),l.elm),l.elm.remove(),l.elm=u}return}if(s.elm=l.elm,s.text!==void 0)l.text!==s.text&&(l.elm.nodeValue=s.text);else if(s.tag){if(r(s,l,t),l.children?.length)a(l.elm,l.children,s.children);else if(s.children.length>0){l.elm.innerHTML="";for(let u=0;u<s.children.length;u++){const g=i(s.children[u]);g&&l.elm.appendChild(g)}}}}function r(s,l,u){const g=s.data.attrs,m=s.data.on,p=l.data.attrs,d=s.elm;o(d,p,g,u),_e(d,m)}function o(s,l,u,g){l&&Object.keys(l).forEach(m=>{u[m]!==l[m]&&s.removeAttribute(m)}),Object.keys(u).forEach(m=>{m==="value"&&(s.value=u[m]),(!l||u[m]!==l[m])&&s.setAttribute(m,u[m]),m==="ref"&&u[m]in g&&(g[u[m]]=s)})}function a(s,l,u){l=Lt(l),u=Lt(u);let g=0,m=l.length-1,p=0,d=u.length-1,h=l[g],E=l[m],y=u[p],R=u[d],ft,C,G,lt;for(;g<=m&&p<=d;)!h||!l[g]?h=l[++g]:!E||!l[m]?E=l[--m]:!y||!u[p]?y=u[++p]:!R||!u[d]?R=u[--d]:P(y,h)?(c(y,h),h=l[++g],y=u[++p]):P(y,E)?(c(y,E),s.insertBefore(E.elm,h.elm),E=l[--m],y=u[++p]):P(R,h)?(c(R,h),s.insertBefore(h.elm,E.elm.nextSibling),h=l[++g],R=u[--d]):P(R,E)?(c(R,E),E=l[--m],R=u[--d]):(K(ft)&&(ft=f(l,g,m)),C=vt(y.key)?ft[y.key]:null,K(C)?(s.insertBefore(i(y),h.elm),y=u[++p]):(G=l[C],P(G,y)?(c(y,G),l[C]=void 0,s.insertBefore(G.elm,h.elm)):s.insertBefore(i(y),h.elm),y=u[++p]));if(g>m)for(lt=K(u[d+1])?null:u[d+1].elm;p<=d;p++)lt?s.insertBefore(i(u[p]),lt):s.append(i(u[p]));if(p>d)for(let z=g;z<=m;z++)l[z]?.elm&&s.removeChild(l[z].elm)}function f(s,l,u){let g,m;const p={};for(g=l;g<=u;++g)m=s[g].key,vt(m)&&(p[m]=g);return p}}function Se(t,e){Object.keys(e._sugar.vm.props).forEach(n=>{const{attrs:i,on:c}=t.data;Object.keys(i).includes(n)?e._sugar.vm.props[n]=t.data.attrs[n]:Object.keys(c).includes(n)&&(t.data.on[n].parameters?e._sugar.vm.props[n]=function(){t.data.on[n].value(...t.data.on[n].parameters)}:e._sugar.vm.props[n]=t.data.on[n].value)}),e._sugar.updateSlot(t.children),t.elm=e.elm,t._sugar=e._sugar}function Ee(t){return new be(t.tagName.toLowerCase(),{},[],t)}function P(t,e){return t.key===e.key&&t.tag===e.tag}function _e(t,e){const n=t._vei||(t._vei={});Object.keys(n).forEach(i=>{t.removeEventListener(i,n[i])}),Object.keys(e).forEach(i=>{n[i]=c=>{e[i].modifiers.includes("stop")&&c.stopPropagation(),e[i].modifiers.includes("prevent")&&c.preventDefault(),e[i].value(c)},t.addEventListener(i,n[i])})}function Lt(t){return t.filter(e=>e.tag||e.text===""||e.text||e.elm)}function Ut(t,e){const n=t.data;if(n){const i=n.attrs;i.ref&&e[i.ref]in e&&(e[i.ref]=t.elm)}t.children&&t.children.forEach(i=>{Ut(i,e)})}let be=class{tag;data;elm;context;text;key;_sugar;constructor(e,n,i,c){this.tag=e,this.data=n,this.children=i,this.key=n.attrs?.key,this.elm=c,this.context=void 0,this.text=void 0}};function ve(){let t=null;function e(i,c){const r=new XMLSerializer;if(i.render)t=i.render;else{const o=i.render?i.render:re(r.serializeToString(i.$el)),{code:a}=At(o);t=a}Ft(i,c),ot(()=>{n(i)})}function n(i){const c=at(i),r=t?.call(c);Mt(c,r),c._vnode=r}return{update:n,mounted:e}}function at(t){return new Proxy(t,{get(e,n,i){const c=Reflect.get(e,n,i);return Nt(c)?c.value:c},set(e,n,i,c){const r=Reflect.get(e,n,c);return Nt(r)?r.value=i:Reflect.set(e,n,i),!0}})}function Nt(t){return!!t?.__isRef}function Ft(t,e){Object.keys(e).forEach(f=>{t[f]=e[f]});function n(f="div",s={},l=[]){return Bt(f,s,l)}function i(f){const s=new wt;return s.text=f,s}function c(f){return String(f)}function r(){return{tag:"div",data:{attrs:{class:"s-block"},on:{}},children:[],elm:{_vei:{}}}}function o(f){return Oe(f)}function a(f,s){const l=[];return s.forEach((u,g)=>{l.push({...f(u,g)})}),l}t._SUGAR={_c:n,_v:i,_s:c,_e:r,_loop:a,_html:o}}function Bt(t="div",e={},n=[]){return((c="div",r={},o=[])=>{const a=[];return o&&o.length>0&&o.forEach(f=>{a.push(f)}),new wt(c,r,a)})(t,e,n)}class wt{tag;data;elm;context;text;key;sugar;constructor(e,n,i){this.tag=e,this.data=n,this.children=i,this.elm=void 0,this.context=void 0,this.text=void 0,this.key=n?.attrs?.key}}function Oe(t){function e(i){const c={attrs:{},on:{}};Array.from(i.attributes).forEach(o=>{c.attrs[o.name]=o.value});const r=Bt(i.tagName,c,[]);return Array.from(i.childNodes).forEach(o=>{o.nodeType===1?r.children.push(e(o)):o.nodeType===3&&r.children.push({tag:"",content:o.textContent,children:[],elm:void 0,text:o.textContent,key:void 0,data:void 0})}),r}const n=document.createElement("div");return n.innerHTML=t,e(n)}function Ae(){ie(`
      .s-block{
        display:none;
      }
  
      .s-loading{
        position: absolute;
        background: rgba(255,255,255,0.8);
        z-index: 99999;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        display: flex;
        align-items: center;
        justify-content: center;
      }
      
      .s-loading svg{
        animation: sLoading 1s linear infinite;
      }
  
      @keyframes sLoading {
        from {
          transform: rotate(0deg);
        }
        to {
          transform: rotate(360deg);
        }
      }
  
  `)}function Ct(t){const e=Ot();gt(e);const n=t.bulk(t.props),i={},{mounted:c}=ve(),r={render:t.render,_vnode:null,data:n,$el:null,appId:e,components:[],sugar:{},slot:t.slot,forceUpdate:()=>{}};function o(f){Ae(),r._vnode=r.$el=typeof f=="string"?document.querySelector(`${f}`):f,c(r,n),nt(()=>{O[e]?.forEach(s=>{s.fun(),s.used=!0})})}function a(f){N(f)||(f=[f]),f.forEach(s=>{s.name?(r.components[s.name]=s,r.components[s.name].components=r.components):s.fun&&(i[s.fun]=s.bulk)}),r.$el&&r.forceUpdate()}return{vm:r,mount:o,...n,use:a,$:i}}typeof window<"u"&&(function(t){t.SUGAR={onMounted:ut,makeSugar:Ct,nextTick:nt,ref:xt,Component:jt,reactive:w,watch:Pt}})(window),_.Component=jt,_.makeSugar=Ct,_.nextTick=nt,_.onMounted=ut,_.reactive=w,_.ref=xt,_.watch=Pt,Object.defineProperty(_,Symbol.toStringTag,{value:"Module"})}));
