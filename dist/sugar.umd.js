(function(E,O){typeof exports=="object"&&typeof module<"u"?O(exports):typeof define=="function"&&define.amd?define(["exports"],O):(E=typeof globalThis<"u"?globalThis:E||self,O(E.Sugar={}))})(this,(function(E){"use strict";let O={},j="";function dt(t){O[j]||(O[j]=[]),O[j].push({used:!1,fun:t})}function gt(t){j=t}const zt=Array.isArray,Ht=Object.assign;function Wt(t){return/^[A-Za-z_$][\w$]*$/.test(t)}function Dt(t){if(Wt(t))return!0;const e=["(",")","=>","+","-","*","/",".","[","]"];for(const n of e)if(t.includes(n))return!1;return!0}const H=[];function mt(t){H.push(t)}function Xt(){H.pop()}function ht(t,e){const n=D(e),r=[];for(;!Jt(t,e);){const o=t.source;let f;if(b(o,t.options.delimiters[0]))f=Yt(t);else if(o[0]==="<"&&o.length!==1)if(o[1]==="/")if(o[2]===">"){S(t,3);continue}else if(/[a-z]/i.test(o[2])){W(t,1);continue}else f=Et(t);else/[a-z]/i.test(o[1])?f=Zt(t,e):o[1]==="!"&&(f=Et(t));if(f||(f=Vt(t)),zt(f))for(let l=0;l<f.length;l++)yt(r,f[l]);else yt(r,f)}let c=!1;const i=t.options.whitespace!=="preserve";for(let o=0;o<r.length;o++){const f=r[o];if(f.type===2)if(t.inPre)f.content=f.content.replace(/\r\n/g,`
`);else if(/[^\t\r\n\f ]/.test(f.content))i&&(f.content=f.content.replace(/[\t\r\n\f ]+/g," "));else{const l=r[o-1],s=r[o+1];!l||!s||i&&(l.type===3&&s.type===3||l.type===3&&s.type===1||l.type===1&&s.type===3||l.type===1&&s.type===1&&/[\r\n]/.test(f.content))?(c=!0,r[o]=null):f.content=" "}else f.type===3&&!t.options.comments&&(c=!0,r[o]=null)}if(t.inPre&&n&&t.options.isPreTag(n.tag)){const o=r[0];o&&o.type===2&&(o.content=o.content.replace(/^\r?\n/,""))}return c?r.filter(Boolean):r}function qt(t,e){const n=[],r=new Set,c=t.source.slice(0,t.source.indexOf(">")).match(/s-for\s*=\s*["']\s*\(([^)]+)\)\s+in\s+[^"']+["']/);if(c){const i=c[1].split(",").map(o=>o.trim());mt(i)}else e===0&&mt([]);for(;t.source.length>0&&!b(t.source,">")&&!b(t.source,"/>");){if(b(t.source,"/")){S(t,1),k(t);continue}const i=Kt(t,r);if(["s-if","s-html"].includes(i.name)&&(i.value.content=U(i.value.content)),i.name==="s-for"){const o=i.value.content.split(" in ");i.value.content=o[0]+" in "+U(o[1])}i.type===6&&i.value&&i.name==="class"&&(i.value.content=i.value.content.replace(/\s+/g," ").trim()),e===0&&n.push(i),k(t)}return n}function Kt(t,e){const n=$(t),c=/^[^\t\r\n\f />][^\t\r\n\f />=]*/.exec(t.source)[0];e.add(c),S(t,c.length);let i;/^[\t\r\n\f ]*=/.test(t.source)&&(k(t),S(t,1),k(t),i=Qt(t));const o=A(t,n);if(!t.inVPre&&/^(v-[A-Za-z0-9-]|:|\.|@|#)/.test(c)){const f=/(?:^v-([a-z0-9-]+))?(?:(?::|^\.|^@|^#)(\[[^\]]+\]|[^\.]+))?(.+)?$/i.exec(c),l=b(c,"."),s=f[1]||(l||b(c,":")?"bind":b(c,"@")||b(c,"s-on:")?"on":"slot");let a;if(f[2]){const d=s==="slot",m=c.lastIndexOf(f[2],c.length-(f[3]?.length||0)),p=A(t,pt(t,n,m),pt(t,n,m+f[2].length+(d&&f[3]||"").length));let g=f[2];g.startsWith("[")?g.endsWith("]")?g=g.slice(1,g.length-1):g=g.slice(1):d&&(g+=f[3]||""),a={type:4,content:g,loc:p}}if(i?.isQuoted){const d=i.loc;d.start.offset++,d.start.column++,d.end=_t(d.start,i.content),d.source=d.source.slice(1,-1)}const u=f[3]?f[3].slice(1).split("."):[];return l&&u.push("prop"),{type:7,name:s,exp:i&&{type:4,content:U(i.content),loc:i.loc,isStatic:!Dt(i.content)},arg:a,modifiers:u,loc:o}}return{type:6,name:c,value:i&&{type:2,content:i.content,loc:i.loc},loc:o}}function pt(t,e,n){return _t(e,t.originalSource.slice(e.offset,n),n)}function Qt(t){const e=$(t);let n;const r=t.source[0],c=r==='"'||r==="'";if(c){S(t,1);const i=t.source.indexOf(r);i===-1?n=M(t,t.source.length):(n=M(t,i),S(t,1))}else{const i=/^[^\t\r\n\f >]+/.exec(t.source);if(!i)return;n=M(t,i[0].length)}return{content:n,isQuoted:c,loc:A(t,e)}}function yt(t,e){if(e.type===2){const n=D(t);if(n&&n.type===2&&n.loc.end.offset===e.loc.start.offset){n.content+=e.content,n.loc.end=e.loc.end,n.loc.source+=e.loc.source;return}}t.push(e)}function Zt(t,e){D(e);const n=W(t,0);if(n.isSelfClosing||t.options.isVoidTag(n.tag))return n;e.push(n);const r=ht(t,e);return e.pop(),n.children=r,bt(t.source,n.tag)&&W(t,1),n.loc=A(t,n.loc.start),n}function W(t,e,n){const r=$(t),c=/^<\/?([a-z][^\t\r\n\f />]*)/i.exec(t.source),i=c[1];S(t,c[0].length),k(t);const o=qt(t,e);let f=!1;if(t.source.length!==0&&(f=b(t.source,"/>"),S(t,f?2:1)),e===1){Xt();return}return{type:1,tag:i,tagType:0,children:[],props:o,isSelfClosing:f,loc:A(t,r)}}var St=(t=>(t[t.HTML=0]="HTML",t))(St||{});function Et(t){const e=$(t),n=t.source[1]==="?"?1:2;let r;const c=t.source.indexOf("-->")+2;return c===-1?(r=t.source.slice(n),S(t,t.source.length)):(r=t.source.slice(n,c),S(t,c+1)),{type:3,content:r,loc:A(t,e)}}function Jt(t,e){const n=t.source;if(b(n,"</")){for(let r=e.length-1;r>=0;--r)if(bt(n,e[r].tag))return!0}return!n}function Yt(t){const[e,n]=t.options.delimiters,r=t.source.indexOf(n,e.length),c=$(t);S(t,e.length);const i=$(t),o=$(t),f=r-e.length,l=t.source.slice(0,f),s=te(t,f),a=s.trim(),u=s.indexOf(a);u>0&&L(i,l,u);const d=f-(s.length-a.length-u);return L(o,l,d),S(t,n.length),{type:5,content:{type:4,content:U(a),loc:A(t,i,o)},loc:A(t,c)}}function Vt(t){const e=["<",t.options.delimiters[0]];let n=t.source.length;for(let i=0;i<e.length;i++){const o=t.source.indexOf(e[i],1);o!==-1&&n>o&&(n=o)}const r=$(t);return{type:2,content:M(t,n),loc:A(t,r)}}function M(t,e){const n=t.source.slice(0,e);return S(t,e),n}function A(t,e,n){return n=n||$(t),{start:e,end:n,source:t.originalSource.slice(e.offset,n.offset)}}function te(t,e){const n=t.source.slice(0,e);return S(t,e),n}function S(t,e){const{source:n}=t;L(t,n,e),t.source=n.slice(e)}function L(t,e,n=e.length){let r=0,c=-1;for(let i=0;i<n;i++)e.charCodeAt(i)===10&&(r++,c=i);return t.offset+=n,t.line+=r,t.column=c===-1?t.column+n:n-c,t}function _t(t,e,n=e.length){return L(Ht({},t),e,n)}function k(t){const e=/^[\t\r\n\f ]+/.exec(t.source);e&&S(t,e[0].length)}function b(t,e){return t.startsWith(e)}function bt(t,e){return b(t,"</")&&t.slice(2,2+e.length).toLowerCase()===e.toLowerCase()&&/[\t\r\n\f />]/.test(t[2+e.length]||">")}function D(t){return t[t.length-1]}function $(t){const{column:e,line:n,offset:r}=t;return{column:e,line:n,offset:r}}var T=(t=>(t[t.ROOT=0]="ROOT",t[t.ELEMENT=1]="ELEMENT",t[t.TEXT=2]="TEXT",t[t.COMMENT=3]="COMMENT",t[t.SIMPLE_EXPRESSION=4]="SIMPLE_EXPRESSION",t[t.INTERPOLATION=5]="INTERPOLATION",t[t.ATTRIBUTE=6]="ATTRIBUTE",t[t.DIRECTIVE=7]="DIRECTIVE",t[t.COMPOUND_EXPRESSION=8]="COMPOUND_EXPRESSION",t[t.COMPONENT=9]="COMPONENT",t[t.SLOT=10]="SLOT",t))(T||{});const ee=new Set(["true","false","null","undefined","NaN","Infinity","Object","Function","Boolean","Symbol","Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError","Number","BigInt","Math","Date","String","RegExp","Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","Map","Set","WeakMap","WeakSet","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","window","globalThis","console","alert","setTimeout","setInterval","clearTimeout","clearInterval","requestAnimationFrame","cancelAnimationFrame","document","location","history","navigator","await","async","arguments","this"]);function U(t){return t.replace(/\b([a-zA-Z_$][a-zA-Z0-9_$]*)\b/g,(e,n,r,c)=>{const i=c.slice(0,r),o=/'[^']*$/.test(i)&&/[^']*'/.test(c.slice(r)),f=/"[^"]*$/.test(i)&&/[^"]*"/.test(c.slice(r)),l=/`[^`]*$/.test(i)&&/[^`]*`/.test(c.slice(r));if(o||f||l)return e;const s=c[r-1];return s==="."||s===":"||ne(n)||ee.has(n)?e:`_ctx_.${n}`})}function vt(t){const e=[];for(const n of t)Array.isArray(n)?e.push(...vt(n)):e.push(n);return e}function ne(t){return vt(H).includes(t)}const X=t=>!1;function q(t){const e=ie(t);return ht(e,[])[0]}function ie(t){return{column:1,line:1,offset:0,originalSource:t,source:t,inPre:!1,inVPre:!1,options:{delimiters:["{{","}}"],isVoidTag:X,isPreTag:X,isCustomElement:X,getNamespace:(e,n)=>St.HTML}}}const x={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},parentNode:t=>t.parentNode},N=t=>t instanceof Array;function Ot(t){return t!=null}function K(t){return t==null}function re(t){const e={lt:"<",gt:">",nbsp:" ",amp:"&",quot:'"'};return t.replace(/&(lt|gt|nbsp|amp|quot);/gi,function(n,r){return e[r]}).replace(/<[^>]+s-on:([^>]+)>/gi,function(n,r){return n.replace(/s-on:/g,"@")})}const v={Array:Array.isArray,Date:t=>t instanceof Date,Set:t=>Object.prototype.toString.call(t)==="[object Set]",Map:t=>Object.prototype.toString.call(t)==="[object Map]",Object:t=>Object.prototype.toString.call(t)==="[object Object]",Symbol:t=>Object.prototype.toString.call(t)==="[object Symbol]",Function:t=>Object.prototype.toString.call(t)==="[object Function]"};function I(t,e=new WeakMap,n=!1){if(v.Function(t)&&n)return/^function/.test(t.toString())||/^\(\)/.test(t.toString())?new Function("return "+t.toString())():new Function("return function "+t.toString())();if(v.Function(t))return t;if(v.Date(t))return new Date(t.valueOf());if(v.Symbol(t))return Symbol(t.description);if(v.Set(t)){const i=new Set;for(const o of t)i.add(I(o),e);return i}if(v.Map(t)){const i=new Map;for(const o of t)i.set(I(o[0],e),I(o[1],e));return i}if(e.has(t))return e.get(t);if(v.Array(t)){const i=[];for(const o in t)i[o]=I(t[o],e);return i}if(!v.Object(t))return t;const r=v.Array(t)?[]:{};e.set(t,r);for(const i in t)v.Array(t[i])&&I(t[i],e),e.set(t,r),r[i]=I(t[i],e);const c=Object.getOwnPropertySymbols(t);for(const i of c)r[i]=I(t[i],e);return r}function At(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})}function se(t){const e=document.createElement("style"),n=document.head||document.getElementsByTagName("head")[0];if(e.type="text/css",e.styleSheet){const r=function(){try{e.styleSheet.cssText=t}catch{}};e.styleSheet.disabled?setTimeout(r,10):r()}else{const r=document.createTextNode(t);e.appendChild(r)}n.appendChild(e)}function Q(t,e){function n(r){r.props?.forEach(i=>{i.name==="s-if"&&e.sIf(r,i),i.name==="s-for"&&e.sFor(r,i),i.name==="s-html"&&e.sHtml(r,i),i.name==="s-model"&&e.sModel(r,i),i.name==="s-loading"&&e.sLoading(r,i)}),r.tag==="slot"&&(r.type=T.SLOT),r.children&&r.children.forEach(i=>{n(i)})}return n(t),t}function Z(t,e){t.if={value:e.value.content,type:e.value.type}}function F(t){const e=(i=[])=>{let o="[";return i.forEach((f,l)=>{f.type===T.ELEMENT||f.type===T.INTERPOLATION||f.type===T.SLOT?o+=n(f)+`${l===i.length-1?"":","}`:f.type===T.TEXT&&f.content.trim()&&(o+=n(f)+`${l===i.length-1?"":","}`)}),o+"]"};function n(i){let o="";const f=i.props;if(i.type===1||i.type===T.SLOT){let l="",s=!1;if(l+=`_ctx_._SUGAR._c('${i.tag}',{ `,l+='"attrs":{',l+=J(f),l+='},"on":{',l+=Y(f),l+="}},",i.children?l+=e(i.children):l+="[]",l+=")",i.forStatment&&(s=!0,o+=c(i)),i.if&&!i.forStatment&&(s=!0,o=`${i.if.value} ? ${o+l} : _ctx_._SUGAR._e()`),i.loading&&!i.forStatment){s=!0;const a=F(Q(q(`<div class="s-loading" s-if="${i.loading.value}">
        <svg t="1734417183543" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4603" width="30" height="30"><path d="M512 64c247.2 0 448 200.8 448 448h-64c0-212-172-384-384-384V64z m0 832c-212 0-384-172-384-384H64c0 247.2 200.8 448 448 448v-64z" p-id="4604" fill="#8a8a8a"></path></svg>
        </div>`),{sIf:Z}));o=`_ctx_._SUGAR._c('div',{attrs:{style:'position:relative'},on:{}},[${o+(i.if?"":l)},${a}])`}i.htmlStatment&&(s=!0,o=`_ctx_._SUGAR._c('div',{attrs:{${J(f)}},on:{${Y(f)}}},[_ctx_._SUGAR._html(${i.htmlStatment.value.content})])`),s||(o+=l)}else i.type===T.INTERPOLATION?o+=`_ctx_._SUGAR._v(_ctx_._SUGAR._s(${i.content.content}))`:i.type===T.TEXT&&(o+=`_ctx_._SUGAR._v(decodeURIComponent("${encodeURIComponent(i.content)}"))`);return o}return n(t);function r(i,o,f){let l=`_ctx_._SUGAR._c('${i}',{`;return l+='"attrs":{',l+=J(o),l+='},"on":{',l+=Y(o),l+="}},[",f.forEach((s,a)=>{l+=F(s),a<f.length-1&&(l+=",")}),l+="])",o.forEach(s=>{if(s.name==="s-if"&&(l=`${s.value.content} ? ${l} : _ctx_._SUGAR._e()`),s.name==="s-loading"&&s.value){const a=F(Q(q(`<div class="s-loading" s-if="${s.value.content}">
          <svg t="1734417183543" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4603" width="30" height="30"><path d="M512 64c247.2 0 448 200.8 448 448h-64c0-212-172-384-384-384V64z m0 832c-212 0-384-172-384-384H64c0 247.2 200.8 448 448 448v-64z" p-id="4604" fill="#8a8a8a"></path></svg>
        </div>`),{sIf:Z}));l=`_ctx_._SUGAR._c('div',{attrs:{style:'position:relative'},on:{}},[${l},${a}])`}}),l}function c(i){const o=i.forStatment,f=r(i.tag,i.props,i.children);return`..._ctx_._SUGAR._loop((${o.item}${o.index?","+o.index:""})=>{
      return ${f}
    },${o.exp})`}}function J(t){let e="";return t=t.filter(n=>n.name!=="s-if"&&n.name!=="s-for"&&n.name!=="on"&&n.name!=="s-loading"&&n.name!=="s-html"),t.forEach((n,r)=>{n.name!=="s-if"&&n.name!=="s-for"&&n.name!=="on"&&n.name!=="bind"&&n.name!=="slot"&&n.name!=="s-html"?e+=`"${n.name}":"${n.value.content}"`:n.name==="bind"?e+=`"${n.arg.content}":${n.exp.content}`:n.name==="slot"&&(e+=`"slot":"${n.arg.content}"`),n.name!=="s-if"&&n.name!=="s-for"&&n.name!=="on"&&r<t.length-1&&(e+=",")}),e}function Y(t){let e="";return t=t.filter(n=>n.name==="on"),t.forEach((n,r)=>{if(n.name==="on"){let c=`${n.exp.content}`;n.exp.isStatic&&(c=`(e)=>{${n.exp.content}}`),e+=`"${n.arg.content}":{"value":${c},"isStatic":${n.exp.isStatic},"modifiers":[${oe(n.modifiers)}]}`,n.name==="on"&&r<t.length-1&&(e+=",")}}),e}function oe(t){return N(t)?t.map(e=>`"${e}"`):""}function ce(t,e){const n=e.value.content.split(" in "),r=new RegExp("(?<=\\()(.+?)(?=\\))");n[0]=n[0].match(r)?n[0].match(r)[0].split(","):n[0],t.forStatment={exp:n[1],item:N(n[0])?n[0][0]:n[0],index:N(n[0])?n[0][1]:null}}function fe(t,e){t.htmlStatment={value:e.value}}function le(t,e){t.loading={value:e.value.content,type:e.value.type}}function ae(t,e){if(e.exp.content.includes("(")&&e.exp.content.includes(")")){const n=e.exp.content;e.exp.content=e.exp.content.substring(0,n.indexOf("(")),e.exp.parameters=n.substring(n.indexOf("(")+1,n.length-1).split(",")}}function ue(t,e){t.props.push({type:7,name:"on",exp:{type:4,content:`_ctx_.${e.value.content} = e.target.value`,isStatic:!0},arg:{type:4,content:"input"},modifiers:[]}),t.props.push({type:7,name:"bind",exp:{type:4,content:`_ctx_.${e.value.content}`},arg:{type:4,content:"value"},modifiers:[]})}function de(t){const e=q(t);return Q(e,{sIf:Z,sFor:ce,sHtml:fe,sLoading:le,transformEvent:ae,sModel:ue}),{root:e,code:F(e)}}function V(t){function e(r=""){const{code:c,root:i}=de(r);return{code:n(c),root:i}}function n(r=""){return new Function(`    const _ctx_ = this;
    const proxy = new Proxy({}, {
      get(target, prop, receiver) {
        if (prop in ctx) {
          return ctx[prop];
        }
        throw new ReferenceError(\`Missing variable \${String(prop)} in template\`);
      }
    });
    return ${r.toString()};
  `)}return e(t)}function tt(t,e){return!!e[t.tag]}const $t={};function ge(t,e){$t[e]=t}function Tt(t){return $t[t]}const et=[];let nt=!1;function me(){nt=!1;const t=et.slice(0);et.length=0;for(let e=0;e<t.length;e++)t[e]()}async function it(t){let e;if(et.push(()=>{t?t():e&&e()}),nt||(nt=!0,Promise.resolve().then(me)),!t)return await new Promise((n,r)=>{e=n})}const rt=new Set;let st=!1;function he(t){rt.add(t),st||(st=!0,Promise.resolve().then(()=>{for(const e of rt)e();rt.clear(),st=!1}))}const ot=new WeakMap;let B=null;function ct(t){const e=()=>{B=e,t(),B=null};return e(),e}function It(t,e){if(!B)return;let n=ot.get(t);n||(n=new Map,ot.set(t,n));let r=n.get(e);r||(r=new Set,n.set(e,r)),r.add(B)}function Rt(t,e){const n=ot.get(t);if(!n)return;const r=n.get(e);if(r)for(const c of r)he(c)}function Pt(t,e){let n;typeof t=="function"?n=t:kt(t)?n=()=>t.value:n=()=>ft(t);let r;function c(){const i=n();e(i,r),r=i}ct(c)}function kt(t){return t&&typeof t=="object"&&t.__isRef}function ft(t,e=new Set){if(!(typeof t!="object"||t===null||e.has(t))){if(e.add(t),kt(t))ft(t.value,e);else for(const n in t)ft(t[n],e);return t}}function xt(t){let e=t;return{get value(){return It(this,"value"),e},set value(n){n!==e&&(e=n,Rt(this,"value"))},__isRef:!0}}function C(t){return new Proxy(t,{get(e,n,r){const c=Reflect.get(e,n,r);return It(e,n),typeof c=="object"&&c!==null?C(c):c},set(e,n,r,c){const i=e[n],o=Reflect.set(e,n,r,c);return i!==r&&Rt(e,n),o}})}function jt(t){return t||{}}function pe(t,e){const{data:{attrs:n,on:r},children:c}=t,i=I(e),o=C({}),f=c;if(Object.keys(n).forEach(s=>{s!=="ref"&&(o[s]=n[s])}),Object.keys(r).forEach(s=>{r[s].parameters?o[s]=function(){r[s].value(...r[s].parameters)}:o[s]=r[s].value}),t.key&&Tt(t.key))return Tt(t.key);const l=ye({...i,props:o,slot:f});return l.mount(),t.key&&ge(l,t.key),l}function ye(t){const e=At();gt(e);const n=t.bulk(t.props),{mounted:r,update:c}=Se(),i={render:t.render,_vnode:null,data:n,$el:null,appId:e,components:t.components?t.components:[],sugar:{},slot:t.slot,props:t.props,headTag:t.headTag||"div"};function o(){r(i,n),O[e]?.forEach(s=>{s.fun(),s.used=!0}),ct(()=>{c(i)})}function f(){c(i)}function l(s){i.slot=s,c(i)}return{vm:i,mount:o,...n,updateSlot:l,forceUpdate:f}}function Se(){let t=null;function e(i,o){i.$el=document.createElement(i.headTag),i._vnode=i.$el,t=i.render,Bt(i,o),i.forceUpdate=function(){n(i)}}function n(i){const o=lt(i),f=t.call(lt(i));i.slot.length&&r(f,i.slot),Lt(o,f),o._vnode=f}function r(i,o){for(let f=0;f<i.children.length;f++){const l=i.children[f];if(l.tag==="slot"&&l.data.attrs?.name){const s=o.find(a=>a.data?.attrs.slot===l.data.attrs.name);c(l,s,i.children)}else l.children?.length&&r(l,o)}}function c(i,o,f){if(!o){f.splice(f.indexOf(i),1,[]);return}f.splice(f.indexOf(i),1,...o.children)}return{update:n,mounted:e}}function Mt(t){const{code:e,root:n}=V(t.render);return{...t,render:e,headTag:n.tag}}function Lt(t,e){let n=t._vnode;n.elm||(n=_e(n)),P(n,e)?c(e,n):n.elm?.parentNode&&e&&(x.insert(r(e),x.parentNode(n.elm),n.elm),x.remove(n.elm));function r(s){let a;if(s.tag){if(typeof s.tag=="string"&&!tt(s,t.components)){s.tag==="svg"||s.tag==="path"?a=document.createElementNS("http://www.w3.org/2000/svg",s.tag):a=document.createElement(s.tag);const{data:u={}}=s||{},{attrs:d={},on:m={}}=u;for(const g in d)if(Object.hasOwnProperty.call(d,g)){const h=d[g];a.setAttribute(g,h),g==="ref"&&h in t&&(t[h]=a)}const p=a._vei||(a._vei={});for(const g in m)if(Object.hasOwnProperty.call(m,g)&&m[g].value){const h=_=>{m[g].value(_),m[g].modifiers.includes("stop")&&_.stopPropagation(),m[g].modifiers.includes("prevent")&&_.preventDefault()};a.addEventListener(g,h),p[g]=h}if(s.children)for(let g=0;g<s.children.length;g++){const h=r(s.children[g]);h&&a.append(h)}}else if(tt(s,t.components)){const u=pe(s,t.components[s.tag]);s.elm=u.vm.$el,s._sugar=u,a=s.elm,s.data.attrs.ref&&s.data.attrs.ref in t&&(t[s.data.attrs.ref]=u)}}else s.text!==void 0?a=document.createTextNode(s.text):s.elm!==void 0&&(a=s.elm);return s.elm=a,a}function c(s,a){if(tt(s,t.components)){if(a._sugar)Ee(s,a),Nt(s,t);else{const u=r(s);x.insert(u,x.parentNode(a.elm),a.elm),a.elm.remove(),a.elm=u}return}if(s.elm=a.elm,s.text!==void 0)a.text!==s.text&&(a.elm.nodeValue=s.text);else if(s.tag){if(i(s,a,t),a.children?.length)f(a.elm,a.children,s.children);else if(s.children.length>0){a.elm.innerHTML="";for(let u=0;u<s.children.length;u++){const d=r(s.children[u]);d&&a.elm.appendChild(d)}}}}function i(s,a,u){const d=s.data.attrs,m=s.data.on,p=a.data.attrs,g=s.elm;o(g,p,d,u),be(g,m)}function o(s,a,u,d){a&&Object.keys(a).forEach(m=>{u[m]!==a[m]&&s.removeAttribute(m)}),Object.keys(u).forEach(m=>{m==="value"&&(s.value=u[m]),(!a||u[m]!==a[m])&&s.setAttribute(m,u[m]),m==="ref"&&u[m]in d&&(d[u[m]]=s)})}function f(s,a,u){a=Ut(a),u=Ut(u);let d=0,m=a.length-1,p=0,g=u.length-1,h=a[d],_=a[m],y=u[p],R=u[g],at,w,G,ut;for(;d<=m&&p<=g;)!h||!a[d]?h=a[++d]:!_||!a[m]?_=a[--m]:!y||!u[p]?y=u[++p]:!R||!u[g]?R=u[--g]:P(y,h)?(c(y,h),h=a[++d],y=u[++p]):P(y,_)?(c(y,_),s.insertBefore(_.elm,h.elm),_=a[--m],y=u[++p]):P(R,h)?(c(R,h),s.insertBefore(h.elm,_.elm.nextSibling),h=a[++d],R=u[--g]):P(R,_)?(c(R,_),_=a[--m],R=u[--g]):(K(at)&&(at=l(a,d,m)),w=Ot(y.key)?at[y.key]:null,K(w)?(s.insertBefore(r(y),h.elm),y=u[++p]):(G=a[w],P(G,y)?(c(y,G),a[w]=void 0,s.insertBefore(G.elm,h.elm)):s.insertBefore(r(y),h.elm),y=u[++p]));if(d>m)for(ut=K(u[g+1])?null:u[g+1].elm;p<=g;p++)ut?s.insertBefore(r(u[p]),ut):s.append(r(u[p]));if(p>g)for(let z=d;z<=m;z++)a[z]?.elm&&s.removeChild(a[z].elm)}function l(s,a,u){let d,m;const p={};for(d=a;d<=u;++d)m=s[d].key,Ot(m)&&(p[m]=d);return p}}function Ee(t,e){Object.keys(e._sugar.vm.props).forEach(n=>{const{attrs:r,on:c}=t.data;Object.keys(r).includes(n)?e._sugar.vm.props[n]=t.data.attrs[n]:Object.keys(c).includes(n)&&(t.data.on[n].parameters?e._sugar.vm.props[n]=function(){t.data.on[n].value(...t.data.on[n].parameters)}:e._sugar.vm.props[n]=t.data.on[n].value)}),e._sugar.updateSlot(t.children),t.elm=e.elm,t._sugar=e._sugar}function _e(t){return new ve(t.tagName.toLowerCase(),{},[],t)}function P(t,e){return t.key===e.key&&t.tag===e.tag}function be(t,e){const n=t._vei||(t._vei={});Object.keys(n).forEach(r=>{t.removeEventListener(r,n[r])}),Object.keys(e).forEach(r=>{n[r]=c=>{e[r].modifiers.includes("stop")&&c.stopPropagation(),e[r].modifiers.includes("prevent")&&c.preventDefault(),e[r].value(c)},t.addEventListener(r,n[r])})}function Ut(t){return t.filter(e=>e.tag||e.text===""||e.text||e.elm)}function Nt(t,e){const n=t.data;if(n){const r=n.attrs;r.ref&&e[r.ref]in e&&(e[r.ref]=t.elm)}t.children&&t.children.forEach(r=>{Nt(r,e)})}let ve=class{tag;data;elm;context;text;key;_sugar;constructor(e,n,r,c){this.tag=e,this.data=n,this.children=r,this.key=n.attrs?.key,this.elm=c,this.context=void 0,this.text=void 0}};function Oe(){let t=null;function e(r,c){const i=new XMLSerializer;if(r.render)t=r.render;else{const o=r.render?r.render:re(i.serializeToString(r.$el)),{code:f}=V(o);t=f}Bt(r,c),ct(()=>{n(r)})}function n(r){const c=lt(r),i=t?.call(c);Lt(c,i),c._vnode=i}return{update:n,mounted:e}}function lt(t){return new Proxy(t,{get(e,n,r){const c=Reflect.get(e,n,r);return Ft(c)?c.value:c},set(e,n,r,c){const i=Reflect.get(e,n,c);return Ft(i)?i.value=r:Reflect.set(e,n,r),!0}})}function Ft(t){return!!t?.__isRef}function Bt(t,e){Object.keys(e).forEach(l=>{t[l]=e[l]});function n(l="div",s={},a=[]){return Ct(l,s,a)}function r(l){const s=new wt;return s.text=l,s}function c(l){return String(l)}function i(){return{tag:"div",data:{attrs:{class:"s-block"},on:{}},children:[],elm:{_vei:{}}}}function o(l){return Ae(l)}function f(l,s){const a=[];return s.forEach((u,d)=>{a.push({...l(u,d)})}),a}t._SUGAR={_c:n,_v:r,_s:c,_e:i,_loop:f,_html:o}}function Ct(t="div",e={},n=[]){return((c="div",i={},o=[])=>{const f=[];return o&&o.length>0&&o.forEach(l=>{f.push(l)}),new wt(c,i,f)})(t,e,n)}class wt{tag;data;elm;context;text;key;sugar;constructor(e,n,r){this.tag=e,this.data=n,this.children=r,this.elm=void 0,this.context=void 0,this.text=void 0,this.key=n?.attrs?.key}}function Ae(t){function e(r){const c={attrs:{},on:{}};Array.from(r.attributes).forEach(o=>{c.attrs[o.name]=o.value});const i=Ct(r.tagName,c,[]);return Array.from(r.childNodes).forEach(o=>{o.nodeType===1?i.children.push(e(o)):o.nodeType===3&&i.children.push({tag:"",content:o.textContent,children:[],elm:void 0,text:o.textContent,key:void 0,data:void 0})}),i}const n=document.createElement("div");return n.innerHTML=t,e(n)}function $e(){se(`
      .s-block{
        display:none;
      }
  
      .s-loading{
        position: absolute;
        background: rgba(255,255,255,0.8);
        z-index: 99999;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        display: flex;
        align-items: center;
        justify-content: center;
      }
      
      .s-loading svg{
        animation: sLoading 1s linear infinite;
      }
  
      @keyframes sLoading {
        from {
          transform: rotate(0deg);
        }
        to {
          transform: rotate(360deg);
        }
      }
  
  `)}function Gt(t){const e=At();gt(e);const n=t.bulk(t.props),r={},{mounted:c}=Oe(),i={render:t.render,_vnode:null,data:n,$el:null,appId:e,components:t.components||[],sugar:{},slot:t.slot,forceUpdate:()=>{}};function o(l){$e(),i._vnode=i.$el=typeof l=="string"?document.querySelector(`${l}`):l,c(i,n),it(()=>{O[e]?.forEach(s=>{s.fun(),s.used=!0})})}function f(l){N(l)||(l=[l]),l.forEach(s=>{s.name?(i.components[s.name]=s,i.components[s.name].components=i.components):s.fun&&(r[s.fun]=s.bulk)}),i.$el&&i.forceUpdate()}return{vm:i,mount:o,...n,use:f,$:r}}typeof window<"u"&&(function(t){t.SUGAR={onMounted:dt,createApp:Gt,nextTick:it,ref:xt,Component:Mt,reactive:C,watch:Pt,defineProps:jt}})(window),E.Component=Mt,E.createApp=Gt,E.defineProps=jt,E.nextTick=it,E.onMounted=dt,E.reactive=C,E.ref=xt,E.sugarCompiler=V,E.watch=Pt,Object.defineProperty(E,Symbol.toStringTag,{value:"Module"})}));
